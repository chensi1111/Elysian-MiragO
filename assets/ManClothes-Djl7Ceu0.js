import{d as Ie,G as k,b as d,u as Le,i as Me,w as ae,g as J,h as re,e as Oe,f as Ee,r as oe,o as a,j as o,k as l,C as v,m as q,H as $,F as I,p as L,B as f,l as _,v as h,I as M,J as p,A as N,y as je,c as R,z as D,D as Be,E as Ne,n as De,_ as We}from"./index-Cnln09QU.js";import{u as He}from"./favoriteProduct-BwCeb2C8.js";import{T as Xe}from"./TheFilter-ChCfiLwI.js";const Je="/Elysian-MiragO/assets/T-shirt-X8HdsN5D.jpg",qe="/Elysian-MiragO/assets/jacket-BO6bDtu5.jpg",Re="/Elysian-MiragO/assets/jeans-mrUtZKq-.jpg",Ve="/Elysian-MiragO/assets/pants-HqLXlj5m.jpg",Ye="/Elysian-MiragO/assets/sport-BpMMQE-l.jpg",Ge="/Elysian-MiragO/assets/shirt-BDcof7vR.jpg",c=O=>(Be("data-v-b2241af4"),O=O(),Ne(),O),Ke={class:"container"},Ae={class:"title"},Ue={key:0,class:"navs"},Qe=["onClick"],Ze={class:"name"},et=c(()=>l("i",{class:"fa-solid fa-sliders"},null,-1)),tt=c(()=>l("i",{class:"fa-solid fa-sliders"},null,-1)),st={key:1,class:"options"},lt={class:"filter-types"},it=c(()=>l("i",{class:"fa-solid fa-x"},null,-1)),at=c(()=>l("i",{class:"fa-solid fa-x"},null,-1)),rt=["onClick"],ot=c(()=>l("i",{class:"fa-solid fa-x"},null,-1)),nt=["onClick"],ct=c(()=>l("i",{class:"fa-solid fa-x"},null,-1)),ut=c(()=>l("i",{class:"fa-solid fa-x"},null,-1)),vt=c(()=>l("i",{class:"fa-solid fa-x"},null,-1)),dt={class:"right"},ft={class:"product-number"},pt={class:"arrays"},_t=c(()=>l("div",{class:"spot"},null,-1)),ht=[_t],yt=c(()=>l("div",{class:"spot"},null,-1)),gt=c(()=>l("div",{class:"spot"},null,-1)),mt=[yt,gt],kt=c(()=>l("div",{class:"spot"},null,-1)),Ft=c(()=>l("div",{class:"spot"},null,-1)),St=c(()=>l("div",{class:"spot"},null,-1)),wt=[kt,Ft,St],Ct=c(()=>l("div",{class:"spot"},null,-1)),xt=c(()=>l("div",{class:"spot"},null,-1)),bt=c(()=>l("div",{class:"spot"},null,-1)),Tt=c(()=>l("div",{class:"spot"},null,-1)),zt=[Ct,xt,bt,Tt],Pt={class:"content"},$t=["onClick"],It=["onMouseover","onMouseleave"],Lt=["onClick"],Mt={key:0,class:"special"},Ot={key:1,class:"cover"},Et=c(()=>l("div",{class:"choose"},"選擇您的尺碼",-1)),jt={class:"sizes"},Bt=["onClick"],Nt={class:"product-infos"},Dt={class:"product-name"},Wt={class:"prices"},Ht={key:0,class:"price"},Xt=c(()=>l("div",{class:"discount"},"3件8折",-1)),Jt={key:0,class:"more"},qt=Ie({__name:"ManClothes",setup(O){const V=k(()=>s.typeFilter==="sport"||s.typeFilter==="gym-suit"||s.typeFilter==="sport-suit"||s.typeFilter==="sport-pant"?"運動休閒":s.typeFilter==="underwear"||s.typeFilter==="boxers"||s.typeFilter==="boxer-briefs"||s.typeFilter==="briefs"?"內衣":s.typeFilter==="accessory"||s.typeFilter==="shoe"||s.typeFilter==="hat"||s.typeFilter==="bag"||s.typeFilter==="wallet"||s.typeFilter==="belt"?"配件":"所有商品"),ne=d([{title:"T恤 & Polo衫",image:Je,type:"suit"},{title:"襯衫",image:Ge,type:"shirt"},{title:"運動衫",image:Ye,type:"sport-suit"},{title:"大衣 & 外套",image:qe,type:"coat"},{title:"牛仔褲",image:Re,type:"jeans"},{title:"長褲 & 短褲",image:Ve,type:"pant"}]),ce=Le(),Y=He(),s=Me(),T=d([]),G=d([]),E=d();ae(()=>{T.value=ce.manProductList.map(t=>({...t,favorite:Y.favoriteItems.some(e=>e.id===t.id)})),G.value=T.value.filter(t=>t.sale),E.value=s.isSale});const j=d(null),z=d(),S=d(),w=d(),C=d(),P=d();ae(()=>{j.value=s.typeFilter,z.value=s.sortFilter,S.value=s.intervalFilter,w.value=s.colorFilter,C.value=s.sizeFilter,P.value=s.keywordFilter,localStorage.setItem("filterState",JSON.stringify({typeFilter:s.typeFilter,sortFilter:s.sortFilter,intervalFilter:s.intervalFilter,colorFilter:s.colorFilter,sizeFilter:s.sizeFilter,keywordFilter:s.keywordFilter,saleFilter:s.isSale}))});function ue(t){s.clearFilterWithoutType(),s.typeFilter=t,s.resetLoad()}const B=k(()=>{switch(j.value){case"suit":return"T恤 & Polo衫";case"shirt":return"襯衫";case"sport-suit":return"運動衫";case"coat":return"大衣 & 外套";case"jeans":return"牛仔褲";case"pant":return"長褲 & 短褲";case"sport":return"運動休閒";case"gym-suit":return"運動T恤 & 背心";case"sport-pant":return"運動褲";case"underwear":return"內衣";case"boxers":return"平口褲";case"briefs":return"三角褲";case"boxer-briefs":return"四角褲";case"accessory":return"配件";case"hat":return"帽子";case"bag":return"包款";case"wallet":return"皮夾";case"belt":return"皮帶";case"shoe":return"鞋子";case"sale":return"特價";default:return""}});function ve(t){switch(t){case"Black":return"黑色";case"White":return"白色";case"Blue":return"藍色";case"Green":return"綠色";case"Brown":return"棕色";case"Gray":return"灰色";case"Red":return"紅色";case"Pink":return"粉色";case"Yellow":return"黃色";default:return""}}const de=[{label:"XS",key:"sizeXS"},{label:"S",key:"sizeS"},{label:"M",key:"sizeM"},{label:"L",key:"sizeL"},{label:"XL",key:"sizeXL"},{label:"onesize",key:"onesize"},{label:"24",key:"size24"},{label:"25",key:"size25"},{label:"26",key:"size26"}],fe=t=>de.filter(e=>t[e.key]!==void 0),K=k(()=>{if(S.value&&S.value.length===2){const[t,e]=S.value;return t===0&&e===1e4?"":`${t} TWD - ${e} TWD`}return""}),W=k(()=>{let t=T.value;if(E.value==!0&&(t=G.value),P.value&&(t=t.filter(e=>e.name.toLowerCase().includes(P.value.toLowerCase()))),j.value&&(t=t.filter(e=>e.type?e.type.includes(j.value):!1)),S.value&&S.value.length===2){const[e,r]=S.value;t=t.filter(u=>u.sale?u.price*.5>=e&&u.price*.5<=r:u.price>=e&&u.price<=r)}return w.value&&w.value.length>0&&(t=t.filter(e=>w.value.includes(e.color))),C.value&&C.value.length>0&&(t=t.filter(e=>C.value.some(r=>{switch(r){case"XS":return e.sizeXS!==void 0;case"S":return e.sizeS!==void 0;case"M":return e.sizeM!==void 0;case"L":return e.sizeL!==void 0;case"XL":return e.sizeXL!==void 0;case"24":return e.size24!==void 0;case"25":return e.size25!==void 0;case"26":return e.size26!==void 0;case"onesize":return e.onesize!==void 0;default:return!1}}))),z.value&&t.sort((e,r)=>{const u=e.sale?e.price/2:e.price,i=r.sale?r.price/2:r.price;if(z.value==="original"){if(e.sale&&!r.sale)return-1;if(!e.sale&&r.sale)return 1}return z.value==="high"?i-u:z.value==="low"?u-i:0}),t}),H=k(()=>W.value.slice(0,s.itemsToShow));function pe(){s.typeFilter=void 0,s.filterScrollToTop()}function _e(){S.value.splice(0,2,0,1e4),s.filterScrollToTop()}function he(t){const e=w.value.indexOf(t);e!==-1&&w.value.splice(e,1),s.filterScrollToTop()}function ye(t){const e=C.value.indexOf(t);e!==-1&&C.value.splice(e,1),s.filterScrollToTop()}function ge(){s.isSale=!1,s.filterScrollToTop()}function me(){s.keywordFilter=void 0,s.filterScrollToTop()}const y=d(4);function A(){n.value>767?y.value=4:y.value=2}const ke=k(()=>`calc((100% - ${20*(y.value-1)}px) / ${y.value})`),n=d(window.innerWidth);function U(){n.value=window.innerWidth,A()}J(()=>{A(),window.addEventListener("resize",U)}),re(()=>{window.removeEventListener("resize",U)});const g=k(()=>n.value>=1024?450:n.value>767&&n.value<1024?400:n.value<=767&&n.value>414?200:n.value<=414?50:450),Fe=k(()=>{switch(y.value){case 4:return`${g.value}px`;case 3:return`${g.value+100}px`;case 2:return`${g.value+250}px`;case 1:return`${g.value+300}px`;default:return`${g.value}px`}}),Se=k(()=>{switch(y.value){case 4:return`${g.value-100}px`;case 3:return`${g.value}px`;case 2:return`${g.value+150}px`;case 1:return`${g.value+200}px`;default:return`${g.value}px`}}),F=d(!1),X=d(null),Q=()=>{if(X.value){const t=X.value.getBoundingClientRect().top;n.value>1024?window.scrollY-300>t?F.value=!0:F.value=!1:n.value>=767&&n.value<=1024?window.scrollY-200>t?F.value=!0:F.value=!1:window.scrollY+100>t?F.value=!0:F.value=!1}},Z=k(()=>n.value<767?!s.filterOpen:!0);J(()=>{window.addEventListener("scroll",Q)}),re(()=>{window.removeEventListener("scroll",Q)});function ee(t){return t.toLocaleString()}function te(t,e){e?t.isHovered||(t.originalImg=t.img,t.img=t.img2,t.isHovered=!0):t.isHovered&&(t.img=t.originalImg,t.isHovered=!1)}const x=Oe(),we=(t,e,r,u)=>{t.stopPropagation();const i=e.sale?e.price*.5:e.price,b={...e,img:e.originalImg,price:i,size:r,stock:u,quantity:1};x.addItem(b),x.openCart(),x.clearCloseCartTimeout(),x.closeCartTimeout=setTimeout(()=>{x.closeCart(),x.closeCartTimeout=null},2e3)};function Ce(t,e){t.stopPropagation(),e.isHovered&&(e.img=e.originalImg),e.favorite=!e.favorite,Y.toggleFavorite(e),se(),x.loadFromLocalStorage()}const se=()=>{const t=JSON.parse(localStorage.getItem("favoriteStatus")||"{}"),e=T.value.reduce((u,i)=>(u[i.id]=i.favorite,u),{}),r={...t,...e};localStorage.setItem("favoriteStatus",JSON.stringify(r))},le=()=>{const t=localStorage.getItem("favoriteStatus");if(t){const e=JSON.parse(t);T.value.forEach(r=>{r.favorite=e[r.id]})}};J(()=>{le()}),Ee(T,async()=>{await De(),se(),le()});function ie(){s.filterOpen=!s.filterOpen,n.value<767&&window.scrollTo(0,0)}function xe(){s.filterOpen=!1,window.scrollTo(0,0)}function be(){s.sortFilter="original",s.intervalFilter=[0,1e4],s.colorFilter=[],s.sizeFilter=[],s.keywordFilter="",s.typeFilter=void 0,s.isSale=!1,s.filterOpen=!1}function Te(){s.loadMoreProducts()}const ze=je();function Pe(t){ze.push({path:"/product",query:t})}return(t,e)=>{const r=oe("el-breadcrumb-item"),u=oe("el-breadcrumb");return a(),o("div",Ke,[l("div",Ae,v(V.value),1),q(u,{separator:"/"},{default:$(()=>[q(r,{to:{path:"/man"}},{default:$(()=>[p("男士")]),_:1}),E.value?f("",!0):(a(),R(r,{key:0},{default:$(()=>[p(v(V.value),1)]),_:1})),E.value?(a(),R(r,{key:1},{default:$(()=>[p("特價")]),_:1})):f("",!0),B.value?(a(),R(r,{key:2},{default:$(()=>[p(v(B.value),1)]),_:1})):f("",!0)]),_:1}),n.value>=767?(a(),o("div",Ue,[(a(!0),o(I,null,L(ne.value,(i,b)=>(a(),o("div",{class:"nav",key:b,style:D({backgroundImage:`url(${i.image})`}),onClick:m=>ue(i.type)},[l("div",Ze,v(i.title),1)],12,Qe))),128))])):f("",!0),l("div",{ref_key:"filterContainer",ref:X,class:N(["filter-container",{"is-fixed":F.value}])},[_(l("div",{class:"filter",onClick:ie},[p("篩選及排序"),et],512),[[h,!M(s).filterOpen]]),n.value>=767?_((a(),o("div",{key:0,class:"filter",onClick:ie},[p("關閉篩選器"),tt],512)),[[h,M(s).filterOpen]]):f("",!0),n.value<767?_((a(),o("div",st,[l("div",{class:"option",onClick:xe},"完成"),l("div",{class:"option",onClick:be},"取消")],512)),[[h,M(s).filterOpen]]):f("",!0),l("div",lt,[_(l("div",{class:"filter-type",onClick:pe},[p(v(B.value)+" ",1),it],512),[[h,B.value]]),_(l("div",{class:"filter-type",onClick:_e},[p(v(K.value)+" ",1),at],512),[[h,K.value]]),(a(!0),o(I,null,L(w.value,i=>_((a(),o("div",{class:"filter-type",key:i,onClick:b=>he(i)},[p(v(ve(i))+" ",1),ot],8,rt)),[[h,w.value.length]])),128)),(a(!0),o(I,null,L(C.value,i=>(a(),o("div",{class:"filter-type",key:i,onClick:b=>ye(i)},[p(v(i)+" ",1),ct],8,nt))),128)),_(l("div",{class:"filter-type",onClick:e[0]||(e[0]=i=>ge())},[p(" 特價 "),ut],512),[[h,M(s).isSale]]),_(l("div",{class:"filter-type",onClick:e[1]||(e[1]=i=>me())},[p(v(P.value)+" ",1),vt],512),[[h,P.value]])]),l("div",dt,[l("div",ft,v(H.value.length)+" / "+v(W.value.length)+" 件商品",1),l("div",pt,[n.value<=767?(a(),o("div",{key:0,class:"array",onClick:e[2]||(e[2]=i=>y.value=1)},ht)):f("",!0),l("div",{class:"array",onClick:e[3]||(e[3]=i=>y.value=2)},mt),n.value>767?(a(),o("div",{key:1,class:"array",onClick:e[4]||(e[4]=i=>y.value=3)},wt)):f("",!0),n.value>767?(a(),o("div",{key:2,class:"array",onClick:e[5]||(e[5]=i=>y.value=4)},zt)):f("",!0)])])],2),l("div",Pt,[_(q(Xe,{class:N({filterFixed:F.value})},null,8,["class"]),[[h,M(s).filterOpen]]),_(l("div",{class:N(["products",{fixed:F.value}])},[(a(!0),o(I,null,L(H.value,(i,b)=>(a(),o("div",{class:"product",key:b,style:D({width:ke.value,height:Fe.value}),onClick:m=>Pe(i)},[l("div",{class:"product-container",style:D({backgroundImage:`url(${i.img})`,height:Se.value}),onMouseover:m=>te(i,!0),onMouseleave:m=>te(i,!1)},[l("i",{class:N(["fa-heart",i.favorite?"fa-solid":"fa-regular"]),onClick:m=>Ce(m,i)},null,10,Lt),i.sale?(a(),o("div",Mt,"活動限定")):f("",!0),n.value>=767?(a(),o("div",Ot,[Et,l("div",jt,[(a(!0),o(I,null,L(fe(i),m=>(a(),o("div",{class:"size",key:m.label,onClick:$e=>we($e,i,m.label,i[m.key])},v(m.label),9,Bt))),128))])])):f("",!0)],44,It),l("div",Nt,[l("div",Dt,v(i.name),1),l("div",Wt,[l("div",{class:"price",style:D({textDecoration:i.sale?"line-through":"none"})},"TWD"+v(ee(i.price)),5),i.sale?(a(),o("div",Ht,"TWD"+v(ee(i.price*.5)),1)):f("",!0)]),Xt,i.availableColors.length>1?(a(),o("div",Jt,"更多顏色可選")):f("",!0)])],12,$t))),128))],2),[[h,Z.value]])]),H.value.length!=W.value.length?_((a(),o("div",{key:1,class:"load",onClick:Te},"顯示更多",512)),[[h,Z.value]]):f("",!0)])}}}),Gt=We(qt,[["__scopeId","data-v-b2241af4"]]);export{Gt as default};
